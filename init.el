;;; don't initialize cruft
(if (fboundp 'tool-bar-mode) (tool-bar-mode -1))
(if (fboundp 'scroll-bar-mode) (scroll-bar-mode -1))
(if (and (fboundp 'menu-bar-mode) (not (display-graphic-p))) (menu-bar-mode -1))
(setq vc-handled-backends nil)
(setq show-paren-delay 0)


(require 'server)
(unless (server-running-p)
  (server-start))

(when (< emacs-major-version 24)
  (add-to-list 'load-path "~/.emacs.d/"))
(require 'package)
(setq package-archives '(("gnu" . "http://elpa.gnu.org/packages/")
			 ("marmalade" . "http://marmalade-repo.org/packages/")
                         ("melpa" . "http://melpa.milkbox.net/packages/")))

(defvar daf-packages '(
                       ace-jump-mode
                       ag
                       anti-zenburn-theme
                       auctex
                       auto-complete
                       coffee-mode
                       deep-thought-theme
                       evil
                       evil-leader
                       evil-numbers
                       evil-paredit
                       surround
                       expand-region
                       flycheck
                       go-mode
                       glsl-mode
                       grizzl
                       js2-mode
                       magit
                       markdown-mode
                       multi-web-mode
                       multiple-cursors
                       paredit
                       phoenix-dark-mono-theme
                       phoenix-dark-pink-theme
                       pony-mode
                       popup
                       processing-mode
                       projectile
                       rainbow-delimiters
                       simple-httpd
                       skewer-mode
                       soft-morning-theme
                       solarized-theme
                       sr-speedbar
                       twilight-theme
                       undo-tree
                       waher-theme
                       web-mode
                       yasnippet
                       zenburn-theme
                       ))

(package-initialize)

(when (not package-archive-contents)
  (package-refresh-contents))

;;; emacs23 doesn't work with many plugins...
(dolist (p daf-packages)
  (when (not (package-installed-p p))
    (package-install p)))


(defun evil-plugins ()
  (require 'evil-paredit)
  (require 'evil-numbers)
  (global-evil-leader-mode 1)
  (global-surround-mode 1))

(defun load-plugins ()
  (evil-plugins)
  ;; (evil-mode 1)

  (require 'auto-complete)
  (require 'paredit)
  (require 'sr-speedbar)
  (require 'mouse+)
  (require 'web-mode)
  (global-auto-complete-mode 1)
  (global-undo-tree-mode 1)
  (global-flycheck-mode 1)
  (projectile-global-mode 1)
  (yas-global-mode)
  (add-to-list 'auto-mode-alist '("\\.js\\'" . js2-mode)))

;; load settings -- wait for packages to load first (emacswiki.org/emacs/ELPA)
(add-to-list 'load-path "~/.emacs.d/config")
(add-hook 'after-init-hook
          (lambda ()
            (require 'mode-hooks)
            (require 'global-settings)
            (require 'evil-setup)
            (load-plugins)))

;; Colors, font
(if (< emacs-major-version 24)
    (add-to-list 'load-path "~/.emacs.d/themes")
  (add-to-list 'custom-theme-load-path "~/.emacs.d/themes"))
(load-theme 'twilight t)
;; (set-default-font "-*-Menlo-normal-normal-normal-*-*-*-*-*-m-0-iso10646-1")

;;;;;;;;;;;;;;;;;;;
;; Autogenerated ;;
;;;;;;;;;;;;;;;;;;;

(custom-set-variables
 ;; custom-set-variables was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 '(Linum-format "%7i ")
 '(ansi-color-names-vector ["#242424" "#e5786d" "#95e454" "#cae682" "#8ac6f2" "#333366" "#ccaa8f" "#f6f3e8"])
 '(compilation-message-face (quote default))
 '(custom-safe-themes (quote ("51b018973bd206cbe49185abcba0c2f2e9da0a88c36d3f039cf97d946921e4f6" "337047491f7db019df2ba54483408d7d7faea0bda61e4c4f5e8cf2f4e3264478" "310e38b9c185acbf2090761e1b93faddca7e32e92147f311c6fbdcf7cf31f2e3" "d63e19a84fef5fa0341fa68814200749408ad4a321b6d9f30efc117aeaf68a2e" "e2a67a7143a2e7b9f72b1091112afb041ab25ae20931c9a1288db23bca24449b" "427234e4b45350b4159575f1ac72860c32dce79bb57a29a196b9cfb9dd3554d9" "eacfc96fbe418c017f4a00fdde5d5029db8e2800a46251eb2174484fa431917e" "394504bd559027641b544952d6e9e1c6dcb306b4d1b2c4ad6b98d3e6b5459683" "c5207e7b8cc960e08818b95c4b9a0c870d91db3eaf5959dd4eba09098b7f232b" "c9cdbcbe046dcbc205b1b8ba3055ee62287a3663908a38e6e66cd7b27e2ae3b0" "a30c29c5cb75a66378d473d03b264b0bc1ee445b9c3edd276385ffec0a685d3f" "124e34f6ea0bc8a50d3769b9f251f99947d6b4d9422c6d85dc4bcc9c2e51b39c" "817ce7168851955b2d67a9dfb2f4bb283504e3be87b17932bd8a3ee4b43cfeb1" "3ad55e40af9a652de541140ff50d043b7a8c8a3e73e2a649eb808ba077e75792" "61a83dbf3d3722d70abee8fb6dbc3566766ff86c098c2a925f2ccfd4d5b3a756" "05751d5e0b52ad5d629403ab374742d6442d1ad32774822f3dccbfc812640758" "b47a3e837ae97400c43661368be754599ef3b7c33a39fd55da03a6ad489aafee" "f89e21c3aef10d2825f2f079962c2237cd9a45f4dc1958091be8a6f5b69bb70c" "1f3304214265481c56341bcee387ef1abb684e4efbccebca0e120be7b1a13589" "3bd9497fb8f39c28ab58a9e957152ba2dc41223c23c5520ef10fc7bd6b222384" "8f6537eb6f9d66b060c736f5f680f5c661e0a6b311b86defa293bc5ba104a030" "764777857ef24b4ef1041be725960172ac40964b9f23a75894a578759ba6652f" "e16a771a13a202ee6e276d06098bc77f008b73bbac4d526f160faa2d76c1dd0e" "d83d50e8d2ef8643934f271856f7c74a715fb7aaa780d700a3670465b78da258" "c377a5f3548df908d58364ec7a0ee401ee7235e5e475c86952dc8ed7c4345d8e" "fc6e906a0e6ead5747ab2e7c5838166f7350b958d82e410257aeeb2820e8a07a" "bd50e3b2dea5d01950991bc230583fdab93f3fd7af6a7c62421c370e347226ec" "c8cc8dad64aebc4ecd81fbb5007d5a29488f018b02bf0d61efdb0fd1ae0dee24" "3bedd09a2afee0d1f8d52892f740cd86f665ab1291fcdefb120963a0fa9b18d7" "8f05205f2254cbd129e0e16d4f3826ddded3e1230c21023b341d94a5293e3617" "8aebf25556399b58091e533e455dd50a6a9cba958cc4ebb0aab175863c25b9a4" "7a2c92b6267b84ae28a396f24dd832e29a164c1942f1f8b3fe500f1c25f8e09d" "d677ef584c6dfc0697901a44b885cc18e206f05114c8a3b7fde674fce6180879" "1d1622e8bc2292dab58d7ba452cef0ac81463dcf021f3f5a65afb0d551c1d746" default)))
 '(electric-pair-mode t)
 '(evil-cross-lines nil)
 '(exec-path (quote ("/usr/local/share/python" "/usr/local/bin" "/usr/bin" "/bin" "/usr/sbin" "/sbin" "/usr/local/Cellar/emacs/24.3/libexec/emacs/24.3/x86_64-apple-darwin12.3.0")))
 '(fci-rule-color "#eee8d5")
 '(fringe-mode 6 nil (fringe))
 '(highlight-changes-colors (quote ("#d33682" "#6c71c4")))
 '(highlight-tail-colors (quote (("#eee8d5" . 0) ("#B4C342" . 20) ("#69CABF" . 30) ("#69B7F0" . 50) ("#DEB542" . 60) ("#F2804F" . 70) ("#F771AC" . 85) ("#eee8d5" . 100))))
 '(magit-diff-use-overlays nil)
 '(powerline-color1 "grey40")
 '(powerline-color2 "grey50")
 '(syslog-debug-face (quote ((t :background unspecified :foreground "#2aa198" :weight bold))))
 '(syslog-error-face (quote ((t :background unspecified :foreground "#dc322f" :weight bold))))
 '(syslog-hour-face (quote ((t :background unspecified :foreground "#859900"))))
 '(syslog-info-face (quote ((t :background unspecified :foreground "#268bd2" :weight bold))))
 '(syslog-ip-face (quote ((t :background unspecified :foreground "#b58900"))))
 '(syslog-su-face (quote ((t :background unspecified :foreground "#d33682"))))
 '(syslog-warn-face (quote ((t :background unspecified :foreground "#cb4b16" :weight bold))))
 '(vc-annotate-background nil)
 '(vc-annotate-color-map (quote ((20 . "#dc322f") (40 . "#CF4F1F") (60 . "#C26C0F") (80 . "#b58900") (100 . "#AB8C00") (120 . "#A18F00") (140 . "#989200") (160 . "#8E9500") (180 . "#859900") (200 . "#729A1E") (220 . "#609C3C") (240 . "#4E9D5B") (260 . "#3C9F79") (280 . "#2aa198") (300 . "#299BA6") (320 . "#2896B5") (340 . "#2790C3") (360 . "#268bd2"))))
 '(vc-annotate-very-old-color nil)
 '(weechat-color-list (quote (unspecified "#002b36" "#073642" "#990A1B" "#dc322f" "#546E00" "#859900" "#7B6000" "#b58900" "#00629D" "#268bd2" "#93115C" "#d33682" "#00736F" "#2aa198" "#839496" "#657b83"))))

(custom-set-faces
 ;; custom-set-faces was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 )
;; (put 'set-goal-column 'disabled nil)
(put 'dired-find-alternate-file 'disabled nil)
